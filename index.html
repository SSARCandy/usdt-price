<!DOCTYPE html>
<html>

<head>
    <title>USDT Price Summary</title>
    <meta name="viewport" content="width=device-width">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81178870-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-81178870-1');
    </script>
    <script data-ad-client="ca-pub-1532347766435780" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>

<pre style="font-size: 30px;">
<div>BitoPro USDT-TWD: <div id="bitopro" style="display: inline;"></div>
            Ask1: <div id="bitopro-ask1" style="display: inline;"></div>
            Bid1: <div id="bitopro-bid1" style="display: inline;"></div>
</div>
<div>    MAX USDT-TWD: <div id="max" style="display: inline;"></div>
            Ask1: <div id="max-ask1" style="display: inline;"></div>
            Bid1: <div id="max-bid1" style="display: inline;"></div>
</div>
</pre>

</body>
<script>
    function update_max() {
        Promise.all([
            fetch('https://max-api.maicoin.com/api/v2/tickers/usdttwd').then(res => res.json()),
            fetch('https://max-api.maicoin.com/api/v2/depth?market=usdttwd&limit=1&sort_by_price=true').then(res => res.json()),
        ])
        .then(data => {
            document.getElementById('max').innerText = Number(data[0].last).toFixed(4);
            document.getElementById('max-ask1').innerText = `${Number(data[1].asks[0][0]).toFixed(4)}x${Number(data[1].asks[0][1]).toFixed(0)}`;
            document.getElementById('max-bid1').innerText = `${Number(data[1].bids[0][0]).toFixed(4)}x${Number(data[1].bids[0][1]).toFixed(0)}`;
        })
    }
    function update_bitopro() {
        Promise.all([
            fetch('https://api.bitopro.com/v3/tickers/usdt_twd').then(res => res.json()),
            fetch('https://api.bitopro.com/v3/order-book/usdt_twd').then(res => res.json()),
        ])
        .then(data => {
            document.getElementById('bitopro').innerText = Number(data[0].data.lastPrice).toFixed(4);
            document.getElementById('bitopro-ask1').innerText = `${Number(data[1].asks[0].price).toFixed(4)}x${Number(data[1].asks[0].amount).toFixed(0)}`;
            document.getElementById('bitopro-bid1').innerText = `${Number(data[1].bids[0].price).toFixed(4)}x${Number(data[1].bids[0].amount).toFixed(0)}`;
        })
    }
    update_max();
    update_bitopro();
    setInterval(() => {
        update_max();
        update_bitopro();
    }, 5000);
</script>
</html>
